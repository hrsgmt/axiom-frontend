<!DOCTYPE html>
<html>
<head><title>User</title></head>
<body>

<script src="/guard.js"></script>

<h2>Public Profile</h2>

<pre id="out">Loading...</pre>

<br>
<a href="/feed.html">Back</a>

<script>
const API = "https://axiom-backend-v1.onrender.com";

const params = new URLSearchParams(location.search);
const id = params.get("id");

fetch(API + "/api/users/" + id, {
  headers: {
    Authorization: "Bearer " + localStorage.getItem("token")
  }
})
.then(r => r.json())
.then(d => {
  document.getElementById("out").innerText =
    JSON.stringify(d, null, 2);
});
</script>

</body>
</html>
